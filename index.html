<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Pura Vida Env√≠os</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: linear-gradient(to bottom right, #ffffff, #e6f0ff);
      margin: 0;
      padding: 0;
      color: #222;
    }
    header {
      background-color: #003366;
      color: white;
      padding: 20px;
      text-align: center;
    }
    .section {
      padding: 30px;
      max-width: 800px;
      margin: auto;
    }
    h2 {
      color: #003366;
    }
    input, select, button {
      padding: 10px;
      margin: 5px 0;
      width: 100%;
      box-sizing: border-box;
    }
    .tracking-result {
      margin-top: 15px;
      background-color: #f0f8ff;
      padding: 15px;
      border: 1px solid #ccc;
    }
    footer {
      background-color: #003366;
      color: white;
      text-align: center;
      padding: 15px;
      margin-top: 40px;
    }
    .testimonials {
      background: #f7f7f7;
      padding: 20px;
      margin-top: 20px;
      border-left: 5px solid #003366;
    }
  </style>
</head>
<body>

<header>
  <h1>Pura Vida Env√≠os</h1>
  <p>Tu puente entre el mundo y Costa Rica üåçüì¶üá®üá∑</p>
</header>

<div class="section">
  <h2>¬øQui√©nes somos?</h2>
  <p>En Pura Vida Env√≠os nos encargamos de recibir tus paquetes desde EE.UU., Europa, Asia y Colombia para llevarlos hasta la puerta de tu casa en Costa Rica. Ya sea para ti o tu negocio, hacemos que importar sea f√°cil, r√°pido y seguro.</p>
</div>

<div class="section">
  <h2>Calcul√° tu env√≠o</h2>
  <label>Origen:</label>
  <select id="origen">
    <option value="usa">EE.UU., Europa o Asia</option>
    <option value="colombia">Colombia</option>
  </select>

  <label>Tipo de env√≠o:</label>
  <select id="tipo">
    <option value="aereo">A√©reo</option>
    <option value="maritimo">Mar√≠timo</option>
  </select>

  <label>Peso (lbs):</label>
  <input type="number" id="peso" placeholder="Ej: 2.5" />

  <button onclick="calcular()">Calcular precio</button>
  <p id="resultado"></p>
</div>

<div class="section">
  <h2>Rastrear paquete</h2>
  <input type="text" id="trackingInput" placeholder="Ingrese n√∫mero de gu√≠a" />
  <button onclick="buscarTracking()">Buscar</button>
  <div id="trackingResult" class="tracking-result"></div>
</div>

<div class="section testimonials">
  <h2>Lo que dicen nuestros clientes</h2>
  <p>"Incre√≠ble servicio, siempre me llega todo a tiempo y en buen estado." ‚Äî Mar√≠a G.</p>
  <p>"Gracias por facilitarme traer productos desde USA, son s√∫per confiables." ‚Äî Luis R.</p>
</div>

<div class="section">
  <h2>¬øNecesit√°s ayuda?</h2>
  <p>Escribinos directamente por <a href="https://wa.me/50672683043" target="_blank">WhatsApp</a></p>
</div>

<footer>
  <p>&copy; 2025 Pura Vida Env√≠os</p>
</footer>

<script>
  function calcular() {
    const origen = document.getElementById("origen").value;
    const tipo = document.getElementById("tipo").value;
    const peso = parseFloat(document.getElementById("peso").value);
    let precio = 0;

    if (isNaN(peso) || peso <= 0) {
      document.getElementById("resultado").innerText = "Por favor ingres√° un peso v√°lido.";
      return;
    }

    if (origen === "colombia") {
      if (tipo === "aereo") precio = peso * 8;
      else precio = peso * 5;
    } else {
      if (tipo === "aereo") precio = peso * 10;
      else precio = peso * 6;
    }

    document.getElementById("resultado").innerText = `Tu env√≠o costar√≠a aproximadamente: $${precio.toFixed(2)} USD`;
  }

  async function buscarTracking() {
    const input = document.getElementById("trackingInput").value.trim();
    const resultDiv = document.getElementById("trackingResult");
    resultDiv.innerHTML = "Buscando...";

    const csvUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRhS6Dnh3lb4fmBU-meYbG7lP1Qpg6-5HvsWqI06RdkHTFVkpx2u711X-v6encM-kLX53Wtrl5RSQS1/pub?output=csv";

    try {
      const response = await fetch(csvUrl);
      const text = await response.text();
      const rows = text.split("\n").map(r => r.split(","));
      const headers = rows[0];
      const trackingIndex = headers.indexOf("Tracking");

      const match = rows.find((r, i) => i !== 0 && r[trackingIndex].trim() === input);

      if (match) {
        const cliente = match[headers.indexOf("Cliente")];
        const estado = match[headers.indexOf("Estado")];
        const peso = match[headers.indexOf("Peso")];
        resultDiv.innerHTML = `
          <strong>Cliente:</strong> ${cliente}<br>
          <strong>Estado:</strong> ${estado}<br>
          <strong>Peso:</strong> ${peso} lbs
        `;
      } else {
        resultDiv.innerHTML = "No se encontr√≥ ese n√∫mero de gu√≠a.";
      }
    } catch (e) {
      resultDiv.innerHTML = "Error al consultar los datos. Intentalo de nuevo m√°s tarde.";
    }
  }
</script>

</body>
</html>
