<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pura Vida Envíos – Cotizador y Seguimiento</title>
  <style>
    :root {
      --azul: #0033A0;
      --rojo: #CE1126;
      --blanco: #FFFFFF;
      --gris: #f5f7fb;
      --texto: #1f2937;
      --suave: #6b7280;
      --borde: #e5e7eb;
      --sombra: 0 10px 25px rgba(0, 0, 0, .08);
      --radio: 14px;
    }
    * {
      box-sizing: border-box;
    }
    html, body {
      margin: 0;
      padding: 0;
      background: var(--gris);
      color: var(--texto);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Ubuntu, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
      line-height: 1.5;
    }
    a {
      color: var(--azul);
      text-decoration: none;
    }
    header {
      position: sticky;
      top: 0;
      z-index: 50;
      background: linear-gradient(90deg, var(--azul), var(--rojo));
      color: var(--blanco);
      box-shadow: var(--sombra);
    }
    .wrap {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 20px;
    }
    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 14px 0;
    }
    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 800;
      font-size: 20px;
      letter-spacing: .2px;
    }
    .brand-logo {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background: var(--blanco);
      display: grid;
      place-items: center;
      color: var(--azul);
      font-weight: 900;
    }
    .menu {
      display: flex;
      gap: 18px;
      flex-wrap: wrap;
    }
    .menu a {
      color: var(--blanco);
      opacity: .95;
    }
    .menu a:hover {
      opacity: 1;
      text-decoration: underline;
    }
    .hero {
      background: linear-gradient(180deg, #fff, #f6f8ff);
      border-bottom: 1px solid var(--borde);
    }
    .hero-in {
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: 30px;
      padding: 40px 0;
    }
    .hero h1 {
      font-size: 42px;
      line-height: 1.15;
      margin: 0 0 12px;
    }
    .hero p {
      font-size: 18px;
      color: var(--suave);
      margin: 0 0 22px;
    }
    .cta {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
    }
    .btn {
      background: var(--rojo);
      color: var(--blanco);
      border: none;
      border-radius: 14px;
      padding: 12px 18px;
      font-weight: 700;
      cursor: pointer;
      box-shadow: var(--sombra);
    }
    .btn.alt {
      background: var(--azul);
    }
    .card {
      background: var(--blanco);
      border: 1px solid var(--borde);
      border-radius: var(--radio);
      padding: 18px;
      box-shadow: var(--sombra);
    }
    .grid-3 {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 16px;
    }
    .feat h3 {
      margin: 6px 0 4px;
      font-size: 18px;
    }
    .feat p {
      margin: 0;
      color: var(--suave);
      font-size: 14px;
    }
    .section {
      padding: 36px 0;
    }
    .section h2 {
      margin: 0 0 16px;
      font-size: 28px;
    }
    .muted {
      color: var(--suave);
      font-size: 14px;
    }
    footer {
      margin-top: 40px;
      background: linear-gradient(90deg, var(--azul), var(--rojo));
      color: #fff;
    }
    .foot {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 20px;
      padding: 24px 0;
    }
    .social {
      display: flex;
      gap: 10px;
      align-items: center;
    }
    .social span {
      opacity: .9;
    }
    @media (max-width: 900px) {
      .hero-in {
        grid-template-columns: 1fr;
      }
      .grid-3 {
        grid-template-columns: 1fr;
        gap: 12px;
      }
      .foot {
        grid-template-columns: 1fr;
      }
    }

    /* SEGUIMIENTO ESTILOS */
    #seguimiento {
      background: url('fondo.jpg') no-repeat center center / cover;
      color: #fff;
    }
    #seguimiento .card {
      background: rgba(0, 0, 0, 0.6);
      padding: 20px;
      border-radius: 14px;
      max-height: 450px;
      overflow-y: auto;
    }
    #input-guia {
      width: 100%;
      padding: 12px;
      border-radius: 12px;
      border: none;
      font-size: 16px;
      margin-bottom: 16px;
      outline: none;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      min-width: 600px;
      color: #fff;
    }
    th, td {
      padding: 10px;
      border: 1px solid #fff;
      text-align: left;
    }
    th {
      background: var(--azul);
      font-weight: 700;
      position: sticky;
      top: 0;
      z-index: 2;
    }
    #no-result {
      margin-top: 12px;
      font-weight: 700;
      text-align: center;
      color: #f88;
      display: none;
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap nav">
      <div class="brand">
        <div class="brand-logo">PV</div>
        Pura Vida Envíos
      </div>
      <nav class="menu">
        <a href="#inicio">Inicio</a>
        <a href="#cotizador">Cotizador</a>
        <a href="#seguimiento">Seguimiento</a>
        <a href="#nosotros">Nosotros</a>
        <a href="#contacto">Contacto</a>
      </nav>
    </div>
  </header>

  <main id="inicio" class="hero">
    <div class="wrap hero-in">
      <div>
        <h1>Pura Vida Envíos</h1>
        <p>Compra en línea y recibe tus paquetes rápido y seguro en Costa Rica.</p>
        <div class="cta">
          <a href="#cotizador" class="btn">Cotiza tu envío</a>
          <a href="#seguimiento" class="btn alt">Rastrea tu paquete</a>
        </div>
      </div>
      <div class="card">
        <h3>Servicios</h3>
        <p>Envíos desde EE.UU., Europa, Asia y Colombia a Costa Rica con seguimiento y atención personalizada.</p>
      </div>
    </div>
  </main>

  <section id="cotizador" class="section">
    <div class="wrap card">
      <h2>Cotizador</h2>
      <!-- Aquí va tu cotizador actual -->
      <p>Funcionalidad del cotizador aquí (puedes integrar tu cotizador anterior).</p>
    </div>
  </section>

  <section id="seguimiento" class="section">
    <div class="wrap card">
      <h2>Seguimiento de paquetes</h2>
      <label for="input-guia">Número de guía</label>
      <input id="input-guia" type="text" placeholder="Ej: PV123456" autocomplete="off" />
      <table>
        <thead>
          <tr>
            <th>Número Guía</th>
            <th>Estado</th>
            <th>Fecha</th>
            <th>Observaciones</th>
          </tr>
        </thead>
        <tbody id="tabla-seguimiento-body">
          <tr><td colspan="4" style="text-align:center;">Cargando datos...</td></tr>
        </tbody>
      </table>
      <p id="no-result">No se encontró información para ese número de guía.</p>
    </div>
  </section>

  <section id="nosotros" class="section">
    <div class="wrap card">
      <h2>Nosotros</h2>
      <p>Somos una empresa familiar dedicada a facilitar tus envíos internacionales con seguridad y rapidez.</p>
    </div>
  </section>

  <section id="contacto" class="section">
    <div class="wrap card">
      <h2>Contacto</h2>
      <p>WhatsApp: 72683043</p>
      <p>Instagram: @puravida_envios</p>
      <!-- Formulario de contacto si quieres -->
    </div>
  </section>

  <footer>
    <div class="wrap foot">
      <div class="brand" style="color:#fff; font-weight:700; font-size:18px;">
        <div class="brand-logo" style="background:#fff; color:#0033A0;">PV</div>
        Pura Vida Envíos © 2025
      </div>
    </div>
  </footer>

  <script>
    // URL pública de tu Google Sheets exportada a CSV (reemplaza por la tuya)
    const csvUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vRhS6Dnh3lb4fmBU-meYbG7lP1Qpg6-5HvsWqI06RdkHTFVkpx2u711X-v6encM-kLX53Wtrl5RSQS1/pub?output=csv&gid=0';

    let datosSeguimiento = [];

    function parseCSV(text) {
      const lines = text.trim().split('\n');
      const headers = lines.shift().split(',');
      return lines.map(line => {
        const values = line.split(',');
        let obj = {};
        headers.forEach((header, i) => {
          obj[header.trim()] = values[i]?.trim() || '';
        });
        return obj;
      });
    }

    async function cargarDatos() {
      try {
        const res = await fetch(csvUrl);
        if (!res.ok) throw new Error('No se pudo cargar el CSV');
        const text = await res.text();
        datosSeguimiento = parseCSV(text);
        mostrarDatos(datosSeguimiento);
      } catch (e) {
        const tbody = document.getElementById('tabla-seguimiento-body');
        tbody.innerHTML = `<tr><td colspan="4" style="text-align:center; color:#f88;">Error cargando datos.</td></tr>`;
        console.error(e);
      }
    }

    function mostrarDatos(datos) {
      const tbody = document.getElementById('tabla-seguimiento-body');
      const noResult = document.getElementById('no-result');
      tbody.innerHTML = '';

      if (datos.length === 0) {
        noResult.style.display = 'block';
        tbody.innerHTML = `<tr><td colspan="4" style="text-align:center;">No hay datos disponibles.</td></tr>`;
        return;
      } else {
        noResult.style.display = 'none';
      }

      datos.forEach(row => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>${row['Número Guía'] || row['Guía'] || ''}</td>
          <td>${row['Estado'] || ''}</td>
          <td>${row['Fecha'] || ''}</td>
          <td>${row['Observaciones'] || ''}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    document.getElementById('input-guia').addEventListener('input', e => {
      const val = e.target.value.trim().toLowerCase();
      if (!val) {
        mostrarDatos(datosSeguimiento);
        return;
      }
      const filtrados = datosSeguimiento.filter(item => {
        const guia = (item['Número Guía'] || item['Guía'] || '').toLowerCase();
        return guia.includes(val);
      });
      mostrarDatos(filtrados);
    });

    cargarDatos();
  </script>
</body>
</html>
